scalar Date
scalar Datetime

type User {
  id: ID!
  
  first_name: String!
  last_name: String!
  username: String!
  email: String!
}

type Profile {
  id: ID!
  
  user: User!
  tier: String!
  account_limit: Int!
  pdf_gen: Boolean!
  ai_predictions: Boolean!
  created_at: Datetime!
  updated_at: Datetime!
}

type Category {
  id: ID!
  
  category_name: String!
  category_description: String!
}

type Account {
  id: ID!
  
  account_name: String!
  account_type: String!
  owner: Profile!
  currency_code: String!
  account_balance: Float!
  created_at: Datetime!
  updated_at: Datetime!
}

type Transaction {
  id: ID!
  
  transaction_type: String!
  transaction_amount: Float!
  currency_code: String!
  description: String!
  transaction_date: Datetime!
  account: Account!
  category: Category!
  created_at: Datetime!
  updated_at: Datetime!
}

type Budget {
  id: ID!
  
  budget_name: String!
  budget_description: String!
  budget_start_date: Date!
  budget_end_date: Date!
  budget_amount: Float!
  owner: Profile!
  category: Category!
  created_at: Datetime!
  updated_at: Datetime!
}

type Report {
  id: ID!
  
  account: Account!
  transactions: Transaction!
  created_at: Datetime!
  updated_at: Datetime!
}

type Query {
  getAllUsers: [User!]!
  getUser: User!
  getUserByUsername(username: String!): User!

  getAllProfiles: [Profile!]!
  getProfile: Profile!

  getAllCategories: [Category!]!
  getCategoryByPublicId(id: ID!): Category!

  getAllAccounts: [Account!]!
  getAccount(id: ID!): Account!

  getAllBudgets: [Budget!]!
  getBudget(id: ID!): Budget!

  getAllTransactions(id: ID!): [Transaction!]!
  getTransaction(id: ID!): Transaction!
}

type Mutation {
  createUser(
    username: String!
    email: String!
    first_name: String
    last_name: String
    password: String!
    password2: String!
  ): User!
  updateUser(
    username: String!
    email: String!
    first_name: String!
    last_name: String!
  ): User!

  verifyToken(token: String!): VerifyToken!
  refreshToken(token: String!): RefreshToken!
  tokenAuth(username: String!, password: String!): TokenAuth!

  updateAccount(
    id: ID!
    accountName: String!
    accountType: String!
    currencyCode: String!
    accountBalance: Float!
  ): Account
  deleteAccount(id: ID!): Boolean

  createTransaction(
    transactionType: String!
    transactionAmount: Float!
    currencyCode: String!
    description: String!
    transactionDate: String!
    accountId: ID!
  ): Transaction
  updateTransaction(
    id: ID!
    transactionType: String!
    transactionAmount: Float!
    currencyCode: String!
    description: String!
    transactionDate: String!
  ): Transaction
  deleteTransaction(id: ID!): Boolean

  createBudget(
    budgetName: String!
    budgetDescription: String!
    budgetStartDate: String!
    budgetEndDate: String!
    budgetAmount: Float!
  ): Budget
  updateBudget(
    id: ID!
    budgetName: String!
    budgetDescription: String!
    budgetStartDate: String!
    budgetEndDate: String!
    budgetAmount: Float!
  ): Budget
  deleteBudget(id: ID!): Boolean
}
